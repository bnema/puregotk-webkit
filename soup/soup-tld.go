// Package soup was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package soup

import (
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Error codes for %SOUP_TLD_ERROR.
type TLDError int

var xTLDErrorGLibType func() types.GType

func TLDErrorGLibType() types.GType {
	return xTLDErrorGLibType()
}

const (

	// A hostname was syntactically
	//   invalid.
	TldErrorInvalidHostnameValue TLDError = 0
	// The passed-in "hostname" was
	//   actually an IP address (and thus has no base domain or
	//   public suffix).
	TldErrorIsIpAddressValue TLDError = 1
	// The passed-in hostname
	//   did not have enough components. Eg, calling
	//   [func@tld_get_base_domain] on &lt;literal&gt;"co.uk"&lt;/literal&gt;.
	TldErrorNotEnoughDomainsValue TLDError = 2
	// The passed-in hostname has
	//   no recognized public suffix.
	TldErrorNoBaseDomainValue TLDError = 3
	// The Public Suffix List was not
	//   available.
	TldErrorNoPslDataValue TLDError = 4
)

var xTldDomainIsPublicSuffix func(string) bool

// Looks whether the @domain passed as argument is a public domain
// suffix (.org, .com, .co.uk, etc) or not.
//
// Prior to libsoup 2.46, this function required that @domain be in
// UTF-8 if it was an IDN. From 2.46 on, the name can be in either
// UTF-8 or ASCII format.
func TldDomainIsPublicSuffix(DomainVar string) bool {

	cret := xTldDomainIsPublicSuffix(DomainVar)
	return cret
}

var xTldErrorQuark func() glib.Quark

// Registers error quark for soup_tld_get_base_domain() if needed.
func TldErrorQuark() glib.Quark {

	cret := xTldErrorQuark()
	return cret
}

var xTldGetBaseDomain func(string, **glib.Error) string

// Finds the base domain for a given @hostname
//
// The base domain is composed by the top level domain (such as .org, .com,
// .co.uk, etc) plus the second level domain, for example for
// myhost.mydomain.com it will return mydomain.com.
//
// Note that %NULL will be returned for private URLs (those not ending
// with any well known TLD) because choosing a base domain for them
// would be totally arbitrary.
//
// Prior to libsoup 2.46, this function required that @hostname be in
// UTF-8 if it was an IDN. From 2.46 on, the name can be in either
// UTF-8 or ASCII format (and the return value will be in the same
// format).
func TldGetBaseDomain(HostnameVar string) (string, error) {
	var cerr *glib.Error

	cret := xTldGetBaseDomain(HostnameVar, &cerr)
	if cerr == nil {
		return cret, nil
	}
	return cret, cerr

}

func init() {
	core.SetPackageName("SOUP", "libsoup-3.0")
	core.SetSharedLibraries("SOUP", []string{"libsoup-3.0.so.0"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("SOUP") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xTLDErrorGLibType, libs, "soup_tld_error_get_type")

	core.PuregoSafeRegister(&xTldDomainIsPublicSuffix, libs, "soup_tld_domain_is_public_suffix")
	core.PuregoSafeRegister(&xTldErrorQuark, libs, "soup_tld_error_quark")
	core.PuregoSafeRegister(&xTldGetBaseDomain, libs, "soup_tld_get_base_domain")

}
