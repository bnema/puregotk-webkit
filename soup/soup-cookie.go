// Package soup was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package soup

import (
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

const (
	// A constant corresponding to 1 day.
	//
	// For use with [ctor@Cookie.new] and [method@Cookie.set_max_age].
	COOKIE_MAX_AGE_ONE_DAY int = 0
	// A constant corresponding to 1 hour.
	//
	// For use with [ctor@Cookie.new] and [method@Cookie.set_max_age].
	COOKIE_MAX_AGE_ONE_HOUR int = 3600
	// A constant corresponding to 1 week.
	//
	// For use with [ctor@Cookie.new] and [method@Cookie.set_max_age].
	COOKIE_MAX_AGE_ONE_WEEK int = 0
	// A constant corresponding to 1 year.
	//
	// For use with [ctor@Cookie.new] and [method@Cookie.set_max_age].
	COOKIE_MAX_AGE_ONE_YEAR int = 0
)

// Represents the same-site policies of a cookie.
type SameSitePolicy int

var xSameSitePolicyGLibType func() types.GType

func SameSitePolicyGLibType() types.GType {
	return xSameSitePolicyGLibType()
}

const (

	// The cookie is exposed with both cross-site and same-site requests
	SameSitePolicyNoneValue SameSitePolicy = 0
	// The cookie is withheld on cross-site requests but exposed on cross-site navigations
	SameSitePolicyLaxValue SameSitePolicy = 1
	// The cookie is only exposed for same-site requests
	SameSitePolicyStrictValue SameSitePolicy = 2
)

var xCookieParse func(string, *glib.Uri) *Cookie

// Parses @header and returns a #SoupCookie.
//
// If @header contains multiple cookies, only the first one will be parsed.
//
// If @header does not have "path" or "domain" attributes, they will
// be defaulted from @origin. If @origin is %NULL, path will default
// to "/", but domain will be left as %NULL. Note that this is not a
// valid state for a #SoupCookie, and you will need to fill in some
// appropriate string for the domain if you want to actually make use
// of the cookie.
//
// As of version 3.4.0 the default value of a cookie's same-site-policy
// is %SOUP_SAME_SITE_POLICY_LAX.
func CookieParse(HeaderVar string, OriginVar *glib.Uri) *Cookie {

	cret := xCookieParse(HeaderVar, OriginVar)
	return cret
}

var xCookiesFree func(*glib.SList)

// Frees @cookies.
func CookiesFree(CookiesVar *glib.SList) {

	xCookiesFree(CookiesVar)

}

var xCookiesFromRequest func(uintptr) *glib.SList

// Parses @msg's Cookie request header and returns a [struct@GLib.SList] of
// `SoupCookie`s.
//
// As the "Cookie" header, unlike "Set-Cookie", only contains cookie names and
// values, none of the other #SoupCookie fields will be filled in. (Thus, you
// can't generally pass a cookie returned from this method directly to
// [func@cookies_to_response].)
func CookiesFromRequest(MsgVar *Message) *glib.SList {

	cret := xCookiesFromRequest(MsgVar.GoPointer())
	return cret
}

var xCookiesFromResponse func(uintptr) *glib.SList

// Parses @msg's Set-Cookie response headers and returns a [struct@GLib.SList]
// of `SoupCookie`s.
//
// Cookies that do not specify "path" or "domain" attributes will have their
// values defaulted from @msg.
func CookiesFromResponse(MsgVar *Message) *glib.SList {

	cret := xCookiesFromResponse(MsgVar.GoPointer())
	return cret
}

var xCookiesToCookieHeader func(*glib.SList) string

// Serializes a [struct@GLib.SList] of #SoupCookie into a string suitable for
// setting as the value of the "Cookie" header.
func CookiesToCookieHeader(CookiesVar *glib.SList) string {

	cret := xCookiesToCookieHeader(CookiesVar)
	return cret
}

var xCookiesToRequest func(*glib.SList, uintptr)

// Adds the name and value of each cookie in @cookies to @msg's
// "Cookie" request.
//
// If @msg already has a "Cookie" request header, these cookies will be appended
// to the cookies already present. Be careful that you do not append the same
// cookies twice, eg, when requeuing a message.
func CookiesToRequest(CookiesVar *glib.SList, MsgVar *Message) {

	xCookiesToRequest(CookiesVar, MsgVar.GoPointer())

}

var xCookiesToResponse func(*glib.SList, uintptr)

// Appends a "Set-Cookie" response header to @msg for each cookie in
// @cookies.
//
// This is in addition to any other "Set-Cookie" headers
// @msg may already have.
func CookiesToResponse(CookiesVar *glib.SList, MsgVar *Message) {

	xCookiesToResponse(CookiesVar, MsgVar.GoPointer())

}

func init() {
	core.SetPackageName("SOUP", "libsoup-3.0")
	core.SetSharedLibraries("SOUP", []string{"libsoup-3.0.so.0"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("SOUP") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xSameSitePolicyGLibType, libs, "soup_same_site_policy_get_type")

	core.PuregoSafeRegister(&xCookieParse, libs, "soup_cookie_parse")
	core.PuregoSafeRegister(&xCookiesFree, libs, "soup_cookies_free")
	core.PuregoSafeRegister(&xCookiesFromRequest, libs, "soup_cookies_from_request")
	core.PuregoSafeRegister(&xCookiesFromResponse, libs, "soup_cookies_from_response")
	core.PuregoSafeRegister(&xCookiesToCookieHeader, libs, "soup_cookies_to_cookie_header")
	core.PuregoSafeRegister(&xCookiesToRequest, libs, "soup_cookies_to_request")
	core.PuregoSafeRegister(&xCookiesToResponse, libs, "soup_cookies_to_response")

}
