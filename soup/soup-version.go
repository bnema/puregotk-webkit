// Package soup was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package soup

import (
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
)

const (
	// Like [func@get_major_version], but from the headers used at application
	// compile time, rather than from the library linked against at application run
	// time.
	MAJOR_VERSION int = 3
	// Like [func@get_micro_version], but from the headers used at
	// application compile time, rather than from the library linked
	// against at application run time.
	MICRO_VERSION int = 5
	// Like [func@get_minor_version], but from the headers used at
	// application compile time, rather than from the library linked
	// against at application run time.
	MINOR_VERSION int = 6
	// A macro that should be defined by the user prior to including
	// `libsoup.h`.
	//
	// The definition should be one of the predefined libsoup
	// version macros: %SOUP_VERSION_2_24, %SOUP_VERSION_2_26, ...
	//
	// This macro defines the earliest version of libsoup that the package
	// is required to be able to compile against.
	//
	// If the compiler is configured to warn about the use of deprecated
	// functions, then using functions that were deprecated in version
	// %SOUP_VERSION_MIN_REQUIRED or earlier will cause warnings (but
	// using functions deprecated in later releases will not).
	VERSION_MIN_REQUIRED int = 2
)

var xCheckVersion func(uint, uint, uint) bool

// Like [func@CHECK_VERSION], but the check for soup_check_version is
// at runtime instead of compile time.
//
// This is useful for compiling against older versions of libsoup, but using
// features from newer versions.
func CheckVersion(MajorVar uint, MinorVar uint, MicroVar uint) bool {

	cret := xCheckVersion(MajorVar, MinorVar, MicroVar)
	return cret
}

var xGetMajorVersion func() uint

// Returns the major version number of the libsoup library.
//
// e.g. in libsoup version 2.42.0 this is 2.
//
// This function is in the library, so it represents the libsoup library
// your code is running against. Contrast with the #SOUP_MAJOR_VERSION
// macro, which represents the major version of the libsoup headers you
// have included when compiling your code.
func GetMajorVersion() uint {

	cret := xGetMajorVersion()
	return cret
}

var xGetMicroVersion func() uint

// Returns the micro version number of the libsoup library.
//
// e.g. in libsoup version 2.42.0 this is 0.
//
// This function is in the library, so it represents the libsoup library
// your code is running against. Contrast with the #SOUP_MICRO_VERSION
// macro, which represents the micro version of the libsoup headers you
// have included when compiling your code.
func GetMicroVersion() uint {

	cret := xGetMicroVersion()
	return cret
}

var xGetMinorVersion func() uint

// Returns the minor version number of the libsoup library.
//
// e.g. in libsoup version 2.42.0 this is 42.
//
// This function is in the library, so it represents the libsoup library
// your code is running against. Contrast with the #SOUP_MINOR_VERSION
// macro, which represents the minor version of the libsoup headers you
// have included when compiling your code.
func GetMinorVersion() uint {

	cret := xGetMinorVersion()
	return cret
}

func init() {
	core.SetPackageName("SOUP", "libsoup-3.0")
	core.SetSharedLibraries("SOUP", []string{"libsoup-3.0.so.0"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("SOUP") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xCheckVersion, libs, "soup_check_version")
	core.PuregoSafeRegister(&xGetMajorVersion, libs, "soup_get_major_version")
	core.PuregoSafeRegister(&xGetMicroVersion, libs, "soup_get_micro_version")
	core.PuregoSafeRegister(&xGetMinorVersion, libs, "soup_get_minor_version")

}
