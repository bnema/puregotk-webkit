// Package soup was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package soup

import (
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Date formats that [func@date_time_to_string] can use.
//
// @SOUP_DATE_HTTP and @SOUP_DATE_COOKIE always coerce the time to
// UTC.
//
// This enum may be extended with more values in future releases.
type DateFormat int

var xDateFormatGLibType func() types.GType

func DateFormatGLibType() types.GType {
	return xDateFormatGLibType()
}

const (

	// RFC 1123 format, used by the HTTP "Date" header. Eg
	//   "Sun, 06 Nov 1994 08:49:37 GMT".
	DateHttpValue DateFormat = 1
	// The format for the "Expires" timestamp in the
	//   Netscape cookie specification. Eg, "Sun, 06-Nov-1994 08:49:37 GMT".
	DateCookieValue DateFormat = 2
)

var xDateTimeNewFromHttpString func(string) uintptr

// Parses @date_string and tries to extract a date from it.
//
// This recognizes all of the "HTTP-date" formats from RFC 2616, RFC 2822 dates,
// and reasonable approximations thereof. (Eg, it is lenient about whitespace,
// leading "0"s, etc.)
func DateTimeNewFromHttpString(DateStringVar string) *glib.DateTime {

	cret := xDateTimeNewFromHttpString(DateStringVar)
	if cret == 0 {
		return nil
	}
	return (*glib.DateTime)(unsafe.Pointer(cret))

}

var xDateTimeToString func(*glib.DateTime, DateFormat) string

// Converts @date to a string in the format described by @format.
func DateTimeToString(DateVar *glib.DateTime, FormatVar DateFormat) string {

	cret := xDateTimeToString(DateVar, FormatVar)
	return cret
}

func init() {
	core.SetPackageName("SOUP", "libsoup-3.0")
	core.SetSharedLibraries("SOUP", []string{"libsoup-3.0.so.0"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("SOUP") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xDateFormatGLibType, libs, "soup_date_format_get_type")

	core.PuregoSafeRegister(&xDateTimeNewFromHttpString, libs, "soup_date_time_new_from_http_string")
	core.PuregoSafeRegister(&xDateTimeToString, libs, "soup_date_time_to_string")

}
