// Package soup was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package soup

import (
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
)

const (
	// A macro containing the value
	// `multipart/form-data`; the MIME type used for
	// posting form data that contains files to be uploaded.
	FORM_MIME_TYPE_MULTIPART string = "multipart/form-data"
	// A macro containing the value
	// `application/x-www-form-urlencoded`; the default
	// MIME type for POSTing HTML form data.
	FORM_MIME_TYPE_URLENCODED string = "application/x-www-form-urlencoded"
)

var xFormDecode func(string) *glib.HashTable

// Decodes @form.
//
// which is an urlencoded dataset as defined in the HTML 4.01 spec.
func FormDecode(EncodedFormVar string) *glib.HashTable {

	cret := xFormDecode(EncodedFormVar)
	return cret
}

var xFormDecodeMultipart func(*Multipart, uintptr, *string, *string, **glib.Bytes) *glib.HashTable

// Decodes the "multipart/form-data" request in @multipart.
//
// this is a convenience method for the case when you have a single file upload
// control in a form. (Or when you don't have any file upload controls, but are
// still using "multipart/form-data" anyway.) Pass the name of the file upload
// control in @file_control_name, and [func@form_decode_multipart] will extract
// the uploaded file data into @filename, @content_type, and @file. All of the
// other form control data will be returned (as strings, as with
// [func@form_decode] in the returned [struct@GLib.HashTable].
//
// You may pass %NULL for @filename, @content_type and/or @file if you do not
// care about those fields. [func@form_decode_multipart] may also
// return %NULL in those fields if the client did not provide that
// information. You must free the returned filename and content-type
// with [func@GLib.free], and the returned file data with [method@Glib.Bytes.unref].
//
// If you have a form with more than one file upload control, you will
// need to decode it manually, using [ctor@Multipart.new_from_message]
// and [method@Multipart.get_part].
func FormDecodeMultipart(MultipartVar *Multipart, FileControlNameVar *string, FilenameVar *string, ContentTypeVar *string, FileVar **glib.Bytes) *glib.HashTable {

	cret := xFormDecodeMultipart(MultipartVar, core.NullableStringToPtr(FileControlNameVar), FilenameVar, ContentTypeVar, FileVar)
	return cret
}

var xFormEncode func(string, ...interface{}) string

// Encodes the given field names and values into a value of type
// "application/x-www-form-urlencoded".
//
// Encodes as defined in the HTML 4.01 spec.
//
// This method requires you to know the names of the form fields (or
// at the very least, the total number of fields) at compile time; for
// working with dynamic forms, use [func@form_encode_hash] or
// [func@form_encode_datalist].
//
// See also: [ctor@Message.new_from_encoded_form].
func FormEncode(FirstFieldVar string, varArgs ...interface{}) string {

	cret := xFormEncode(FirstFieldVar, varArgs...)
	return cret
}

var xFormEncodeDatalist func(**glib.Data) string

// Encodes @form_data_set into a value of type
// "application/x-www-form-urlencoded".
//
// Encodes as defined in the HTML 4.01 spec. Unlike [func@form_encode_hash],
// this preserves the ordering of the form elements, which may be required in
// some situations.
//
// See also: [ctor@Message.new_from_encoded_form].
func FormEncodeDatalist(FormDataSetVar **glib.Data) string {

	cret := xFormEncodeDatalist(FormDataSetVar)
	return cret
}

var xFormEncodeHash func(*glib.HashTable) string

// Encodes @form_data_set into a value of type
// "application/x-www-form-urlencoded".
//
// Encodes as defined in the HTML 4.01 spec.
//
// Note that the HTML spec states that "The control names/values are
// listed in the order they appear in the document." Since this method
// takes a hash table, it cannot enforce that; if you care about the
// ordering of the form fields, use [func@form_encode_datalist].
//
// See also: [ctor@Message.new_from_encoded_form].
func FormEncodeHash(FormDataSetVar *glib.HashTable) string {

	cret := xFormEncodeHash(FormDataSetVar)
	return cret
}

var xFormEncodeValist func(string, []interface{}) string

// See [func@form_encode].
//
// This is mostly an internal method, used by various other methods such as
// [func@form_encode].
//
// See also: [ctor@Message.new_from_encoded_form].
func FormEncodeValist(FirstFieldVar string, ArgsVar []interface{}) string {

	cret := xFormEncodeValist(FirstFieldVar, ArgsVar)
	return cret
}

func init() {
	core.SetPackageName("SOUP", "libsoup-3.0")
	core.SetSharedLibraries("SOUP", []string{"libsoup-3.0.so.0"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("SOUP") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xFormDecode, libs, "soup_form_decode")
	core.PuregoSafeRegister(&xFormDecodeMultipart, libs, "soup_form_decode_multipart")
	core.PuregoSafeRegister(&xFormEncode, libs, "soup_form_encode")
	core.PuregoSafeRegister(&xFormEncodeDatalist, libs, "soup_form_encode_datalist")
	core.PuregoSafeRegister(&xFormEncodeHash, libs, "soup_form_encode_hash")
	core.PuregoSafeRegister(&xFormEncodeValist, libs, "soup_form_encode_valist")

}
