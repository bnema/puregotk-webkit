// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Carries details to be shown in user-facing dialogs.
type ScriptDialog struct {
	_ structs.HostLayout
}

var xScriptDialogGLibType func() types.GType

func ScriptDialogGLibType() types.GType {
	return xScriptDialogGLibType()
}

func (x *ScriptDialog) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

var xScriptDialogClose func(uintptr)

// Close @dialog.
//
// When handling a #WebKitScriptDialog asynchronously (webkit_script_dialog_ref()
// was called in #WebKitWebView::script-dialog callback), this function needs to be called to notify
// that we are done with the script dialog. The dialog will be closed on destruction if this function
// hasn't been called before.
func (x *ScriptDialog) Close() {

	xScriptDialogClose(x.GoPointer())

}

var xScriptDialogConfirmSetConfirmed func(uintptr, bool)

// Set whether the user confirmed the dialog.
//
// This method is used for %WEBKIT_SCRIPT_DIALOG_CONFIRM and %WEBKIT_SCRIPT_DIALOG_BEFORE_UNLOAD_CONFIRM dialogs when
// #WebKitWebView::script-dialog signal is emitted to set whether the user
// confirmed the dialog or not. The default implementation of #WebKitWebView::script-dialog
// signal sets %TRUE when the OK or Stay buttons are clicked and %FALSE otherwise.
// It's an error to use this method with a #WebKitScriptDialog that is not of type
// %WEBKIT_SCRIPT_DIALOG_CONFIRM or %WEBKIT_SCRIPT_DIALOG_BEFORE_UNLOAD_CONFIRM
func (x *ScriptDialog) ConfirmSetConfirmed(ConfirmedVar bool) {

	xScriptDialogConfirmSetConfirmed(x.GoPointer(), ConfirmedVar)

}

var xScriptDialogGetDialogType func(uintptr) ScriptDialogType

// Get the dialog type of a #WebKitScriptDialog.
func (x *ScriptDialog) GetDialogType() ScriptDialogType {

	cret := xScriptDialogGetDialogType(x.GoPointer())
	return cret
}

var xScriptDialogGetMessage func(uintptr) string

// Get the message of a #WebKitScriptDialog.
func (x *ScriptDialog) GetMessage() string {

	cret := xScriptDialogGetMessage(x.GoPointer())
	return cret
}

var xScriptDialogPromptGetDefaultText func(uintptr) string

// Get the default text of a #WebKitScriptDialog of type %WEBKIT_SCRIPT_DIALOG_PROMPT.
//
// It's an error to use this method with a #WebKitScriptDialog that is not of type
// %WEBKIT_SCRIPT_DIALOG_PROMPT.
func (x *ScriptDialog) PromptGetDefaultText() string {

	cret := xScriptDialogPromptGetDefaultText(x.GoPointer())
	return cret
}

var xScriptDialogPromptSetText func(uintptr, string)

// Set the text entered by the user in the dialog.
//
// This method is used for %WEBKIT_SCRIPT_DIALOG_PROMPT dialogs when
// #WebKitWebView::script-dialog signal is emitted to set the text
// entered by the user. The default implementation of #WebKitWebView::script-dialog
// signal sets the text of the entry form when OK button is clicked, otherwise %NULL is set.
// It's an error to use this method with a #WebKitScriptDialog that is not of type
// %WEBKIT_SCRIPT_DIALOG_PROMPT.
func (x *ScriptDialog) PromptSetText(TextVar string) {

	xScriptDialogPromptSetText(x.GoPointer(), TextVar)

}

var xScriptDialogRef func(uintptr) uintptr

// Atomically increments the reference count of @dialog by one.
//
// This
// function is MT-safe and may be called from any thread.
func (x *ScriptDialog) Ref() uintptr {

	cret := xScriptDialogRef(x.GoPointer())
	return cret
}

var xScriptDialogUnref func(uintptr)

// Atomically decrements the reference count of @dialog by one.
//
// If the
// reference count drops to 0, all memory allocated by the #WebKitScriptdialog is
// released. This function is MT-safe and may be called from any
// thread.
func (x *ScriptDialog) Unref() {

	xScriptDialogUnref(x.GoPointer())

}

// Enum values used for determining the type of #WebKitScriptDialog
type ScriptDialogType int

var xScriptDialogTypeGLibType func() types.GType

func ScriptDialogTypeGLibType() types.GType {
	return xScriptDialogTypeGLibType()
}

const (

	// Alert script dialog, used to show a
	// message to the user.
	ScriptDialogAlertValue ScriptDialogType = 0
	// Confirm script dialog, used to ask
	// confirmation to the user.
	ScriptDialogConfirmValue ScriptDialogType = 1
	// Prompt script dialog, used to ask
	// information to the user.
	ScriptDialogPromptValue ScriptDialogType = 2
	// Before unload confirm dialog,
	// used to ask confirmation to leave the current page to the user. Since 2.12
	ScriptDialogBeforeUnloadConfirmValue ScriptDialogType = 3
)

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xScriptDialogTypeGLibType, libs, "webkit_script_dialog_type_get_type")

	core.PuregoSafeRegister(&xScriptDialogGLibType, libs, "webkit_script_dialog_get_type")

	core.PuregoSafeRegister(&xScriptDialogClose, libs, "webkit_script_dialog_close")
	core.PuregoSafeRegister(&xScriptDialogConfirmSetConfirmed, libs, "webkit_script_dialog_confirm_set_confirmed")
	core.PuregoSafeRegister(&xScriptDialogGetDialogType, libs, "webkit_script_dialog_get_dialog_type")
	core.PuregoSafeRegister(&xScriptDialogGetMessage, libs, "webkit_script_dialog_get_message")
	core.PuregoSafeRegister(&xScriptDialogPromptGetDefaultText, libs, "webkit_script_dialog_prompt_get_default_text")
	core.PuregoSafeRegister(&xScriptDialogPromptSetText, libs, "webkit_script_dialog_prompt_set_text")
	core.PuregoSafeRegister(&xScriptDialogRef, libs, "webkit_script_dialog_ref")
	core.PuregoSafeRegister(&xScriptDialogUnref, libs, "webkit_script_dialog_unref")

}
