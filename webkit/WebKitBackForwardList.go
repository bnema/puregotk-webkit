// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type BackForwardListClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *BackForwardListClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// List of visited pages.
//
// WebKitBackForwardList maintains a list of visited pages used to
// navigate to recent pages. Items are inserted in the list in the
// order they are visited.
//
// WebKitBackForwardList also maintains the notion of the current item
// (which is always at index 0), the preceding item (which is at index -1),
// and the following item (which is at index 1).
// Methods webkit_web_view_go_back() and webkit_web_view_go_forward() move
// the current item backward or forward by one. Method
// webkit_web_view_go_to_back_forward_list_item() sets the current item to the
// specified item. All other methods returning #WebKitBackForwardListItem&lt;!-- --&gt;s
// do not change the value of the current item, they just return the requested
// item or items.
type BackForwardList struct {
	gobject.Object
}

var xBackForwardListGLibType func() types.GType

func BackForwardListGLibType() types.GType {
	return xBackForwardListGLibType()
}

func BackForwardListNewFromInternalPtr(ptr uintptr) *BackForwardList {
	cls := &BackForwardList{}
	cls.Ptr = ptr
	return cls
}

var xBackForwardListGetBackItem func(uintptr) uintptr

// Returns the item that precedes the current item.
func (x *BackForwardList) GetBackItem() *BackForwardListItem {
	var cls *BackForwardListItem

	cret := xBackForwardListGetBackItem(x.GoPointer())

	if cret == 0 {
		return nil
	}
	gobject.IncreaseRef(cret)
	cls = &BackForwardListItem{}
	cls.Ptr = cret
	return cls
}

var xBackForwardListGetBackList func(uintptr) *glib.List

// Obtain the list of items preceding the current one.
func (x *BackForwardList) GetBackList() *glib.List {

	cret := xBackForwardListGetBackList(x.GoPointer())
	return cret
}

var xBackForwardListGetBackListWithLimit func(uintptr, uint) *glib.List

// Obtain a list up to some number of items preceding the current one.
func (x *BackForwardList) GetBackListWithLimit(LimitVar uint) *glib.List {

	cret := xBackForwardListGetBackListWithLimit(x.GoPointer(), LimitVar)
	return cret
}

var xBackForwardListGetCurrentItem func(uintptr) uintptr

// Returns the current item in @back_forward_list.
func (x *BackForwardList) GetCurrentItem() *BackForwardListItem {
	var cls *BackForwardListItem

	cret := xBackForwardListGetCurrentItem(x.GoPointer())

	if cret == 0 {
		return nil
	}
	gobject.IncreaseRef(cret)
	cls = &BackForwardListItem{}
	cls.Ptr = cret
	return cls
}

var xBackForwardListGetForwardItem func(uintptr) uintptr

// Returns the item that follows the current item.
func (x *BackForwardList) GetForwardItem() *BackForwardListItem {
	var cls *BackForwardListItem

	cret := xBackForwardListGetForwardItem(x.GoPointer())

	if cret == 0 {
		return nil
	}
	gobject.IncreaseRef(cret)
	cls = &BackForwardListItem{}
	cls.Ptr = cret
	return cls
}

var xBackForwardListGetForwardList func(uintptr) *glib.List

// Obtain the list of items following the current one.
func (x *BackForwardList) GetForwardList() *glib.List {

	cret := xBackForwardListGetForwardList(x.GoPointer())
	return cret
}

var xBackForwardListGetForwardListWithLimit func(uintptr, uint) *glib.List

// Obtain a list up to some number of items following the current one.
func (x *BackForwardList) GetForwardListWithLimit(LimitVar uint) *glib.List {

	cret := xBackForwardListGetForwardListWithLimit(x.GoPointer(), LimitVar)
	return cret
}

var xBackForwardListGetLength func(uintptr) uint

// Obtain the amount of items in the list.
func (x *BackForwardList) GetLength() uint {

	cret := xBackForwardListGetLength(x.GoPointer())
	return cret
}

var xBackForwardListGetNthItem func(uintptr, int) uintptr

// Returns the item at a given index relative to the current item.
func (x *BackForwardList) GetNthItem(IndexVar int) *BackForwardListItem {
	var cls *BackForwardListItem

	cret := xBackForwardListGetNthItem(x.GoPointer(), IndexVar)

	if cret == 0 {
		return nil
	}
	gobject.IncreaseRef(cret)
	cls = &BackForwardListItem{}
	cls.Ptr = cret
	return cls
}

func (c *BackForwardList) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *BackForwardList) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

// This signal is emitted when @back_forward_list changes. This happens
// when the current item is updated, a new item is added or one or more
// items are removed. Note that both @item_added and @items_removed can
// %NULL when only the current item is updated. Items are only removed
// when the list is cleared or the maximum items limit is reached.
func (x *BackForwardList) ConnectChanged(cb *func(BackForwardList, uintptr, uintptr)) uint32 {
	cbPtr := uintptr(unsafe.Pointer(cb))
	if cbRefPtr, ok := glib.GetCallback(cbPtr); ok {
		return gobject.SignalConnect(x.GoPointer(), "changed", cbRefPtr)
	}

	fcb := func(clsPtr uintptr, ItemAddedVarp uintptr, ItemsRemovedVarp uintptr) {
		fa := BackForwardList{}
		fa.Ptr = clsPtr
		cbFn := *cb

		cbFn(fa, ItemAddedVarp, ItemsRemovedVarp)

	}
	cbRefPtr := purego.NewCallback(fcb)
	glib.SaveCallback(cbPtr, cbRefPtr)
	return gobject.SignalConnect(x.GoPointer(), "changed", cbRefPtr)
}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xBackForwardListGLibType, libs, "webkit_back_forward_list_get_type")

	core.PuregoSafeRegister(&xBackForwardListGetBackItem, libs, "webkit_back_forward_list_get_back_item")
	core.PuregoSafeRegister(&xBackForwardListGetBackList, libs, "webkit_back_forward_list_get_back_list")
	core.PuregoSafeRegister(&xBackForwardListGetBackListWithLimit, libs, "webkit_back_forward_list_get_back_list_with_limit")
	core.PuregoSafeRegister(&xBackForwardListGetCurrentItem, libs, "webkit_back_forward_list_get_current_item")
	core.PuregoSafeRegister(&xBackForwardListGetForwardItem, libs, "webkit_back_forward_list_get_forward_item")
	core.PuregoSafeRegister(&xBackForwardListGetForwardList, libs, "webkit_back_forward_list_get_forward_list")
	core.PuregoSafeRegister(&xBackForwardListGetForwardListWithLimit, libs, "webkit_back_forward_list_get_forward_list_with_limit")
	core.PuregoSafeRegister(&xBackForwardListGetLength, libs, "webkit_back_forward_list_get_length")
	core.PuregoSafeRegister(&xBackForwardListGetNthItem, libs, "webkit_back_forward_list_get_nth_item")

}
