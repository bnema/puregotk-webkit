// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type ColorChooserRequestClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *ColorChooserRequestClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// A request to open a color chooser.
//
// Whenever the user interacts with an &lt;input type='color' /&gt;
// HTML element, WebKit will need to show a dialog to choose a color. For that
// to happen in a general way, instead of just opening a #GtkColorChooser
// (which might be not desirable in some cases, which could prefer to use their
// own color chooser dialog), WebKit will fire the
// #WebKitWebView::run-color-chooser signal with a #WebKitColorChooserRequest
// object, which will allow the client application to specify the color to be
// selected, to inspect the details of the request (e.g. to get initial color)
// and to cancel the request, in case nothing was selected.
//
// In case the client application does not wish to handle this signal,
// WebKit will provide a default handler which will asynchronously run
// a regular #GtkColorChooserDialog for the user to interact with.
type ColorChooserRequest struct {
	gobject.Object
}

var xColorChooserRequestGLibType func() types.GType

func ColorChooserRequestGLibType() types.GType {
	return xColorChooserRequestGLibType()
}

func ColorChooserRequestNewFromInternalPtr(ptr uintptr) *ColorChooserRequest {
	cls := &ColorChooserRequest{}
	cls.Ptr = ptr
	return cls
}

var xColorChooserRequestCancel func(uintptr)

// Cancels @request and the input element changes to use the initial color.
//
// Cancels @request and the input element changes to use the initial color
// it has before the request started.
// The signal #WebKitColorChooserRequest::finished
// is emitted to notify that the request has finished.
func (x *ColorChooserRequest) Cancel() {

	xColorChooserRequestCancel(x.GoPointer())

}

var xColorChooserRequestFinish func(uintptr)

// Finishes @request and the input element keeps the current value of
// #WebKitColorChooserRequest:rgba.
//
// Finishes @request and the input element keeps the current value of
// #WebKitColorChooserRequest:rgba.
// The signal #WebKitColorChooserRequest::finished
// is emitted to notify that the request has finished.
func (x *ColorChooserRequest) Finish() {

	xColorChooserRequestFinish(x.GoPointer())

}

var xColorChooserRequestGetElementRectangle func(uintptr, uintptr)

// Gets the bounding box of the color input element.
func (x *ColorChooserRequest) GetElementRectangle(RectVar uintptr) {

	xColorChooserRequestGetElementRectangle(x.GoPointer(), RectVar)

}

var xColorChooserRequestGetRgba func(uintptr, uintptr)

// Gets the current #GdkRGBA color of @request
func (x *ColorChooserRequest) GetRgba(RgbaVar uintptr) {

	xColorChooserRequestGetRgba(x.GoPointer(), RgbaVar)

}

var xColorChooserRequestSetRgba func(uintptr, uintptr)

// Sets the current #GdkRGBA color of @request
func (x *ColorChooserRequest) SetRgba(RgbaVar uintptr) {

	xColorChooserRequestSetRgba(x.GoPointer(), RgbaVar)

}

func (c *ColorChooserRequest) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *ColorChooserRequest) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

// Emitted when the @request finishes. This signal can be emitted because the
// user completed the @request calling webkit_color_chooser_request_finish(),
// or cancelled it with webkit_color_chooser_request_cancel() or because the
// color input element is removed from the DOM.
func (x *ColorChooserRequest) ConnectFinished(cb *func(ColorChooserRequest)) uint32 {
	cbPtr := uintptr(unsafe.Pointer(cb))
	if cbRefPtr, ok := glib.GetCallback(cbPtr); ok {
		return gobject.SignalConnect(x.GoPointer(), "finished", cbRefPtr)
	}

	fcb := func(clsPtr uintptr) {
		fa := ColorChooserRequest{}
		fa.Ptr = clsPtr
		cbFn := *cb

		cbFn(fa)

	}
	cbRefPtr := purego.NewCallback(fcb)
	glib.SaveCallback(cbPtr, cbRefPtr)
	return gobject.SignalConnect(x.GoPointer(), "finished", cbRefPtr)
}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xColorChooserRequestGLibType, libs, "webkit_color_chooser_request_get_type")

	core.PuregoSafeRegister(&xColorChooserRequestCancel, libs, "webkit_color_chooser_request_cancel")
	core.PuregoSafeRegister(&xColorChooserRequestFinish, libs, "webkit_color_chooser_request_finish")
	core.PuregoSafeRegister(&xColorChooserRequestGetElementRectangle, libs, "webkit_color_chooser_request_get_element_rectangle")
	core.PuregoSafeRegister(&xColorChooserRequestGetRgba, libs, "webkit_color_chooser_request_get_rgba")
	core.PuregoSafeRegister(&xColorChooserRequestSetRgba, libs, "webkit_color_chooser_request_set_rgba")

}
