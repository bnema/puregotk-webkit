// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gio"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Groups information used for user authentication.
type Credential struct {
	_ structs.HostLayout
}

var xCredentialGLibType func() types.GType

func CredentialGLibType() types.GType {
	return xCredentialGLibType()
}

func (x *Credential) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

var xNewCredential func(string, string, CredentialPersistence) *Credential

// Create a new credential from the provided username, password and persistence mode.
func NewCredential(UsernameVar string, PasswordVar string, PersistenceVar CredentialPersistence) *Credential {

	cret := xNewCredential(UsernameVar, PasswordVar, PersistenceVar)
	return cret
}

var xNewCredentialForCertificate func(uintptr, CredentialPersistence) *Credential

// Create a new credential from the @certificate and persistence mode.
//
// Note that %WEBKIT_CREDENTIAL_PERSISTENCE_PERMANENT is not supported for certificate credentials.
func NewCredentialForCertificate(CertificateVar *gio.TlsCertificate, PersistenceVar CredentialPersistence) *Credential {

	cret := xNewCredentialForCertificate(CertificateVar.GoPointer(), PersistenceVar)
	return cret
}

var xNewCredentialForCertificatePin func(string, CredentialPersistence) *Credential

// Create a new credential from the provided PIN and persistence mode.
//
// Note that %WEBKIT_CREDENTIAL_PERSISTENCE_PERMANENT is not supported for certificate pin credentials.
func NewCredentialForCertificatePin(PinVar string, PersistenceVar CredentialPersistence) *Credential {

	cret := xNewCredentialForCertificatePin(PinVar, PersistenceVar)
	return cret
}

var xCredentialCopy func(uintptr) *Credential

// Make a copy of the #WebKitCredential.
func (x *Credential) Copy() *Credential {

	cret := xCredentialCopy(x.GoPointer())
	return cret
}

var xCredentialFree func(uintptr)

// Free the #WebKitCredential.
func (x *Credential) Free() {

	xCredentialFree(x.GoPointer())

}

var xCredentialGetCertificate func(uintptr) uintptr

// Get the certificate currently held by this #WebKitCredential.
func (x *Credential) GetCertificate() *gio.TlsCertificate {
	var cls *gio.TlsCertificate

	cret := xCredentialGetCertificate(x.GoPointer())

	if cret == 0 {
		return nil
	}
	gobject.IncreaseRef(cret)
	cls = &gio.TlsCertificate{}
	cls.Ptr = cret
	return cls
}

var xCredentialGetPassword func(uintptr) string

// Get the password currently held by this #WebKitCredential.
func (x *Credential) GetPassword() string {

	cret := xCredentialGetPassword(x.GoPointer())
	return cret
}

var xCredentialGetPersistence func(uintptr) CredentialPersistence

// Get the persistence mode currently held by this #WebKitCredential.
func (x *Credential) GetPersistence() CredentialPersistence {

	cret := xCredentialGetPersistence(x.GoPointer())
	return cret
}

var xCredentialGetUsername func(uintptr) string

// Get the username currently held by this #WebKitCredential.
func (x *Credential) GetUsername() string {

	cret := xCredentialGetUsername(x.GoPointer())
	return cret
}

var xCredentialHasPassword func(uintptr) bool

// Determine whether this credential has a password stored.
func (x *Credential) HasPassword() bool {

	cret := xCredentialHasPassword(x.GoPointer())
	return cret
}

// Enum values representing the duration for which a credential persists.
type CredentialPersistence int

var xCredentialPersistenceGLibType func() types.GType

func CredentialPersistenceGLibType() types.GType {
	return xCredentialPersistenceGLibType()
}

const (

	// Credential does not persist
	CredentialPersistenceNoneValue CredentialPersistence = 0
	// Credential persists for session only
	CredentialPersistenceForSessionValue CredentialPersistence = 1
	// Credential persists permanently
	CredentialPersistencePermanentValue CredentialPersistence = 2
)

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xCredentialPersistenceGLibType, libs, "webkit_credential_persistence_get_type")

	core.PuregoSafeRegister(&xCredentialGLibType, libs, "webkit_credential_get_type")

	core.PuregoSafeRegister(&xNewCredential, libs, "webkit_credential_new")
	core.PuregoSafeRegister(&xNewCredentialForCertificate, libs, "webkit_credential_new_for_certificate")
	core.PuregoSafeRegister(&xNewCredentialForCertificatePin, libs, "webkit_credential_new_for_certificate_pin")

	core.PuregoSafeRegister(&xCredentialCopy, libs, "webkit_credential_copy")
	core.PuregoSafeRegister(&xCredentialFree, libs, "webkit_credential_free")
	core.PuregoSafeRegister(&xCredentialGetCertificate, libs, "webkit_credential_get_certificate")
	core.PuregoSafeRegister(&xCredentialGetPassword, libs, "webkit_credential_get_password")
	core.PuregoSafeRegister(&xCredentialGetPersistence, libs, "webkit_credential_get_persistence")
	core.PuregoSafeRegister(&xCredentialGetUsername, libs, "webkit_credential_get_username")
	core.PuregoSafeRegister(&xCredentialHasPassword, libs, "webkit_credential_has_password")

}
