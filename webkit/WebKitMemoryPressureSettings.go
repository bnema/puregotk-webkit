// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// A boxed type representing the settings for the memory pressure handler
//
// #WebKitMemoryPressureSettings is a boxed type that can be used to provide some custom settings
// to control how the memory pressure situations are handled by the different processes.
//
// The memory pressure system implemented inside the different process will try to keep the memory usage
// under the defined memory limit. In order to do that, it will check the used memory with a user defined
// frequency and decide whether it should try to release memory. The thresholds passed will define how urgent
// is to release that memory.
//
// Take into account that badly defined parameters can greatly reduce the performance of the engine. For
// example, setting memory limit too low with a fast poll interval can cause the process to constantly
// be trying to release memory.
//
// A #WebKitMemoryPressureSettings can be passed to a #WebKitWebContext constructor, and the settings will
// be applied to all the web processes created by that context.
//
// A #WebKitMemoryPressureSettings can be passed to webkit_website_data_manager_set_memory_pressure_settings(),
// and the settings will be applied to all the network processes created after that call by any instance of
// #WebKitWebsiteDataManager.
type MemoryPressureSettings struct {
	_ structs.HostLayout
}

var xMemoryPressureSettingsGLibType func() types.GType

func MemoryPressureSettingsGLibType() types.GType {
	return xMemoryPressureSettingsGLibType()
}

func (x *MemoryPressureSettings) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

var xNewMemoryPressureSettings func() uintptr

// Create a new #WebKitMemoryPressureSettings with the default values.
func NewMemoryPressureSettings() *MemoryPressureSettings {

	cret := xNewMemoryPressureSettings()
	if cret == 0 {
		return nil
	}
	return (*MemoryPressureSettings)(unsafe.Pointer(cret))

}

var xMemoryPressureSettingsCopy func(uintptr) uintptr

// Make a copy of @settings.
func (x *MemoryPressureSettings) Copy() *MemoryPressureSettings {

	cret := xMemoryPressureSettingsCopy(x.GoPointer())
	if cret == 0 {
		return nil
	}
	return (*MemoryPressureSettings)(unsafe.Pointer(cret))

}

var xMemoryPressureSettingsFree func(uintptr)

// Free the #WebKitMemoryPressureSettings.
func (x *MemoryPressureSettings) Free() {

	xMemoryPressureSettingsFree(x.GoPointer())

}

var xMemoryPressureSettingsGetConservativeThreshold func(uintptr) float64

// Gets the conservative memory usage threshold.
func (x *MemoryPressureSettings) GetConservativeThreshold() float64 {

	cret := xMemoryPressureSettingsGetConservativeThreshold(x.GoPointer())
	return cret
}

var xMemoryPressureSettingsGetKillThreshold func(uintptr) float64

// Gets the kill memory usage threshold.
func (x *MemoryPressureSettings) GetKillThreshold() float64 {

	cret := xMemoryPressureSettingsGetKillThreshold(x.GoPointer())
	return cret
}

var xMemoryPressureSettingsGetMemoryLimit func(uintptr) uint

// Gets the memory usage limit.
func (x *MemoryPressureSettings) GetMemoryLimit() uint {

	cret := xMemoryPressureSettingsGetMemoryLimit(x.GoPointer())
	return cret
}

var xMemoryPressureSettingsGetPollInterval func(uintptr) float64

// Gets the interval at which memory usage is checked.
func (x *MemoryPressureSettings) GetPollInterval() float64 {

	cret := xMemoryPressureSettingsGetPollInterval(x.GoPointer())
	return cret
}

var xMemoryPressureSettingsGetStrictThreshold func(uintptr) float64

// Gets the strict memory usage threshold.
func (x *MemoryPressureSettings) GetStrictThreshold() float64 {

	cret := xMemoryPressureSettingsGetStrictThreshold(x.GoPointer())
	return cret
}

var xMemoryPressureSettingsSetConservativeThreshold func(uintptr, float64)

// Sets the memory limit for the conservative policy to start working.
//
// Sets @value as the fraction of the defined memory limit where the conservative
// policy starts working. This policy will try to reduce the memory footprint by
// releasing non critical memory.
//
// The threshold must be bigger than 0 and smaller than 1, and it must be smaller
// than the strict threshold defined in @settings. The default value is 0.33.
func (x *MemoryPressureSettings) SetConservativeThreshold(ValueVar float64) {

	xMemoryPressureSettingsSetConservativeThreshold(x.GoPointer(), ValueVar)

}

var xMemoryPressureSettingsSetKillThreshold func(uintptr, float64)

// Sets @value as the fraction of the defined memory limit where the process will be
// killed.
//
// The threshold must be a value bigger or equal to 0. A value of 0 means that the process
// is never killed. If the threshold is not 0, then it must be bigger than the strict threshold
// defined in @settings. The threshold can also have values bigger than 1. The default value is 0.
func (x *MemoryPressureSettings) SetKillThreshold(ValueVar float64) {

	xMemoryPressureSettingsSetKillThreshold(x.GoPointer(), ValueVar)

}

var xMemoryPressureSettingsSetMemoryLimit func(uintptr, uint)

// Sets @memory_limit the memory limit value to @settings.
//
// The default value is the system's RAM size with a maximum of 3GB.
func (x *MemoryPressureSettings) SetMemoryLimit(MemoryLimitVar uint) {

	xMemoryPressureSettingsSetMemoryLimit(x.GoPointer(), MemoryLimitVar)

}

var xMemoryPressureSettingsSetPollInterval func(uintptr, float64)

// Sets @value as the poll interval used by @settings.
//
// The poll interval value must be bigger than 0. The default value is 30 seconds.
func (x *MemoryPressureSettings) SetPollInterval(ValueVar float64) {

	xMemoryPressureSettingsSetPollInterval(x.GoPointer(), ValueVar)

}

var xMemoryPressureSettingsSetStrictThreshold func(uintptr, float64)

// Sets the memory limit for the strict policy to start working.
//
// Sets @value as the fraction of the defined memory limit where the strict
// policy starts working. This policy will try to reduce the memory footprint by
// releasing critical memory.
//
// The threshold must be bigger than 0 and smaller than 1. Also, it must be bigger
// than the conservative threshold defined in @settings, and smaller than the kill
// threshold if the latter is not 0. The default value is 0.5.
func (x *MemoryPressureSettings) SetStrictThreshold(ValueVar float64) {

	xMemoryPressureSettingsSetStrictThreshold(x.GoPointer(), ValueVar)

}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xMemoryPressureSettingsGLibType, libs, "webkit_memory_pressure_settings_get_type")

	core.PuregoSafeRegister(&xNewMemoryPressureSettings, libs, "webkit_memory_pressure_settings_new")

	core.PuregoSafeRegister(&xMemoryPressureSettingsCopy, libs, "webkit_memory_pressure_settings_copy")
	core.PuregoSafeRegister(&xMemoryPressureSettingsFree, libs, "webkit_memory_pressure_settings_free")
	core.PuregoSafeRegister(&xMemoryPressureSettingsGetConservativeThreshold, libs, "webkit_memory_pressure_settings_get_conservative_threshold")
	core.PuregoSafeRegister(&xMemoryPressureSettingsGetKillThreshold, libs, "webkit_memory_pressure_settings_get_kill_threshold")
	core.PuregoSafeRegister(&xMemoryPressureSettingsGetMemoryLimit, libs, "webkit_memory_pressure_settings_get_memory_limit")
	core.PuregoSafeRegister(&xMemoryPressureSettingsGetPollInterval, libs, "webkit_memory_pressure_settings_get_poll_interval")
	core.PuregoSafeRegister(&xMemoryPressureSettingsGetStrictThreshold, libs, "webkit_memory_pressure_settings_get_strict_threshold")
	core.PuregoSafeRegister(&xMemoryPressureSettingsSetConservativeThreshold, libs, "webkit_memory_pressure_settings_set_conservative_threshold")
	core.PuregoSafeRegister(&xMemoryPressureSettingsSetKillThreshold, libs, "webkit_memory_pressure_settings_set_kill_threshold")
	core.PuregoSafeRegister(&xMemoryPressureSettingsSetMemoryLimit, libs, "webkit_memory_pressure_settings_set_memory_limit")
	core.PuregoSafeRegister(&xMemoryPressureSettingsSetPollInterval, libs, "webkit_memory_pressure_settings_set_poll_interval")
	core.PuregoSafeRegister(&xMemoryPressureSettingsSetStrictThreshold, libs, "webkit_memory_pressure_settings_set_strict_threshold")

}
