// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"runtime"
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Configures network proxies.
//
// WebKitNetworkProxySettings can be used to provide a custom proxy configuration
// to a #WebKitNetworkSession. You need to call webkit_network_session_set_network_proxy_settings()
// with %WEBKIT_NETWORK_PROXY_MODE_CUSTOM and a WebKitNetworkProxySettings.
type NetworkProxySettings struct {
	_ structs.HostLayout
}

var xNetworkProxySettingsGLibType func() types.GType

func NetworkProxySettingsGLibType() types.GType {
	return xNetworkProxySettingsGLibType()
}

func (x *NetworkProxySettings) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

var xNewNetworkProxySettings func(uintptr, []string) *NetworkProxySettings

// Create a new #WebKitNetworkProxySettings with the given @default_proxy_uri and @ignore_hosts.
//
// The default proxy URI will be used for any URI that doesn't match @ignore_hosts, and doesn't match any
// of the schemes added with webkit_network_proxy_settings_add_proxy_for_scheme().
// If @default_proxy_uri starts with "socks://", it will be treated as referring to all three of the
// socks5, socks4a, and socks4 proxy types.
//
// @ignore_hosts is a list of hostnames and IP addresses that the resolver should allow direct connections to.
// Entries can be in one of 4 formats:
// &lt;itemizedlist&gt;
// &lt;listitem&gt;&lt;para&gt;
// A hostname, such as "example.com", ".example.com", or "*.example.com", any of which match "example.com" or
// any subdomain of it.
// &lt;/para&gt;&lt;/listitem&gt;
// &lt;listitem&gt;&lt;para&gt;
// An IPv4 or IPv6 address, such as "192.168.1.1", which matches only that address.
// &lt;/para&gt;&lt;/listitem&gt;
// &lt;listitem&gt;&lt;para&gt;
// A hostname or IP address followed by a port, such as "example.com:80", which matches whatever the hostname or IP
// address would match, but only for URLs with the (explicitly) indicated port. In the case of an IPv6 address, the address
// part must appear in brackets: "[::1]:443"
// &lt;/para&gt;&lt;/listitem&gt;
// &lt;listitem&gt;&lt;para&gt;
// An IP address range, given by a base address and prefix length, such as "fe80::/10", which matches any address in that range.
// &lt;/para&gt;&lt;/listitem&gt;
// &lt;/itemizedlist&gt;
//
// Note that when dealing with Unicode hostnames, the matching is done against the ASCII form of the name.
// Also note that hostname exclusions apply only to connections made to hosts identified by name, and IP address exclusions apply only
// to connections made to hosts identified by address. That is, if example.com has an address of 192.168.1.1, and @ignore_hosts
// contains only "192.168.1.1", then a connection to "example.com" will use the proxy, and a connection to 192.168.1.1" will not.
func NewNetworkProxySettings(DefaultProxyUriVar *string, IgnoreHostsVar []string) *NetworkProxySettings {

	DefaultProxyUriVarPtr, DefaultProxyUriVarBytes := core.NullableStringToPtr(DefaultProxyUriVar)

	cret := xNewNetworkProxySettings(DefaultProxyUriVarPtr, IgnoreHostsVar)

	runtime.KeepAlive(DefaultProxyUriVarBytes)

	return cret
}

var xNetworkProxySettingsAddProxyForScheme func(uintptr, string, string)

// Adds a URI-scheme-specific proxy.
//
// URIs whose scheme matches @uri_scheme will be proxied via @proxy_uri.
// As with the default proxy URI, if @proxy_uri starts with "socks://", it will be treated as referring to
// all three of the socks5, socks4a, and socks4 proxy types.
func (x *NetworkProxySettings) AddProxyForScheme(SchemeVar string, ProxyUriVar string) {

	xNetworkProxySettingsAddProxyForScheme(x.GoPointer(), SchemeVar, ProxyUriVar)

}

var xNetworkProxySettingsCopy func(uintptr) *NetworkProxySettings

// Make a copy of the #WebKitNetworkProxySettings.
func (x *NetworkProxySettings) Copy() *NetworkProxySettings {

	cret := xNetworkProxySettingsCopy(x.GoPointer())

	return cret
}

var xNetworkProxySettingsFree func(uintptr)

// Free the #WebKitNetworkProxySettings.
func (x *NetworkProxySettings) Free() {

	xNetworkProxySettingsFree(x.GoPointer())

}

// Enum values used to set the network proxy mode.
type NetworkProxyMode int

var xNetworkProxyModeGLibType func() types.GType

func NetworkProxyModeGLibType() types.GType {
	return xNetworkProxyModeGLibType()
}

const (

	// Use the default proxy of the system.
	NetworkProxyModeDefaultValue NetworkProxyMode = 0
	// Do not use any proxy.
	NetworkProxyModeNoProxyValue NetworkProxyMode = 1
	// Use custom proxy settings.
	NetworkProxyModeCustomValue NetworkProxyMode = 2
)

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xNetworkProxyModeGLibType, libs, "webkit_network_proxy_mode_get_type")

	core.PuregoSafeRegister(&xNetworkProxySettingsGLibType, libs, "webkit_network_proxy_settings_get_type")

	core.PuregoSafeRegister(&xNewNetworkProxySettings, libs, "webkit_network_proxy_settings_new")

	core.PuregoSafeRegister(&xNetworkProxySettingsAddProxyForScheme, libs, "webkit_network_proxy_settings_add_proxy_for_scheme")
	core.PuregoSafeRegister(&xNetworkProxySettingsCopy, libs, "webkit_network_proxy_settings_copy")
	core.PuregoSafeRegister(&xNetworkProxySettingsFree, libs, "webkit_network_proxy_settings_free")

}
