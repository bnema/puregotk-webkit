// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

// Handles serialization of a web view's browsing state.
type WebViewSessionState struct {
	_ structs.HostLayout
}

var xWebViewSessionStateGLibType func() types.GType

func WebViewSessionStateGLibType() types.GType {
	return xWebViewSessionStateGLibType()
}

func (x *WebViewSessionState) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

var xNewWebViewSessionState func(*glib.Bytes) uintptr

// Creates a new #WebKitWebViewSessionState from serialized data.
func NewWebViewSessionState(DataVar *glib.Bytes) *WebViewSessionState {

	cret := xNewWebViewSessionState(DataVar)
	if cret == 0 {
		return nil
	}
	return (*WebViewSessionState)(unsafe.Pointer(cret))

}

var xWebViewSessionStateRef func(uintptr) uintptr

// Atomically increments the reference count of @state by one.
//
// This
// function is MT-safe and may be called from any thread.
func (x *WebViewSessionState) Ref() *WebViewSessionState {

	cret := xWebViewSessionStateRef(x.GoPointer())
	if cret == 0 {
		return nil
	}
	return (*WebViewSessionState)(unsafe.Pointer(cret))

}

var xWebViewSessionStateSerialize func(uintptr) uintptr

// Serializes a #WebKitWebViewSessionState.
func (x *WebViewSessionState) Serialize() *glib.Bytes {

	cret := xWebViewSessionStateSerialize(x.GoPointer())
	if cret == 0 {
		return nil
	}
	return (*glib.Bytes)(unsafe.Pointer(cret))

}

var xWebViewSessionStateUnref func(uintptr)

// Atomically decrements the reference count of @state by one.
//
// If the
// reference count drops to 0, all memory allocated by the #WebKitWebViewSessionState is
// released. This function is MT-safe and may be called from any thread.
func (x *WebViewSessionState) Unref() {

	xWebViewSessionStateUnref(x.GoPointer())

}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xWebViewSessionStateGLibType, libs, "webkit_web_view_session_state_get_type")

	core.PuregoSafeRegister(&xNewWebViewSessionState, libs, "webkit_web_view_session_state_new")

	core.PuregoSafeRegister(&xWebViewSessionStateRef, libs, "webkit_web_view_session_state_ref")
	core.PuregoSafeRegister(&xWebViewSessionStateSerialize, libs, "webkit_web_view_session_state_serialize")
	core.PuregoSafeRegister(&xWebViewSessionStateUnref, libs, "webkit_web_view_session_state_unref")

}
