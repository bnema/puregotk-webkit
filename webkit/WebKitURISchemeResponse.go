// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/bnema/puregotk-webkit/soup"
	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/gio"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type URISchemeResponseClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *URISchemeResponseClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// Represents a URI scheme response.
//
// If you register a particular URI scheme in a #WebKitWebContext,
// using webkit_web_context_register_uri_scheme(), you have to provide
// a #WebKitURISchemeRequestCallback. After that, when a URI response
// is made with that particular scheme, your callback will be
// called. There you will be able to provide more response parameters
// when the methods and properties of a #WebKitURISchemeRequest is not
// enough.
//
// When you finished setting up your #WebKitURISchemeResponse, call
// webkit_uri_request_finish_with_response() with it to return the response.
type URISchemeResponse struct {
	gobject.Object
}

var xURISchemeResponseGLibType func() types.GType

func URISchemeResponseGLibType() types.GType {
	return xURISchemeResponseGLibType()
}

func URISchemeResponseNewFromInternalPtr(ptr uintptr) *URISchemeResponse {
	cls := &URISchemeResponse{}
	cls.Ptr = ptr
	return cls
}

var xNewURISchemeResponse func(uintptr, int64) uintptr

// Create a new #WebKitURISchemeResponse
func NewURISchemeResponse(InputStreamVar *gio.InputStream, StreamLengthVar int64) *URISchemeResponse {
	var cls *URISchemeResponse

	cret := xNewURISchemeResponse(InputStreamVar.GoPointer(), StreamLengthVar)

	if cret == 0 {
		return nil
	}
	cls = &URISchemeResponse{}
	cls.Ptr = cret
	return cls
}

var xURISchemeResponseSetContentType func(uintptr, string)

// Sets the content type for the @response
func (x *URISchemeResponse) SetContentType(ContentTypeVar string) {

	xURISchemeResponseSetContentType(x.GoPointer(), ContentTypeVar)

}

var xURISchemeResponseSetHttpHeaders func(uintptr, *soup.MessageHeaders)

// Assign the provided #SoupMessageHeaders to the response.
//
// @headers need to be of the type %SOUP_MESSAGE_HEADERS_RESPONSE.
// Any existing headers will be overwritten.
func (x *URISchemeResponse) SetHttpHeaders(HeadersVar *soup.MessageHeaders) {

	xURISchemeResponseSetHttpHeaders(x.GoPointer(), HeadersVar)

}

var xURISchemeResponseSetStatus func(uintptr, uint, uintptr)

// Sets the status code and reason phrase for the @response.
//
// If @status_code is a known value and @reason_phrase is %NULL, the @reason_phrase will be set automatically.
func (x *URISchemeResponse) SetStatus(StatusCodeVar uint, ReasonPhraseVar *string) {

	xURISchemeResponseSetStatus(x.GoPointer(), StatusCodeVar, core.NullableStringToPtr(ReasonPhraseVar))

}

func (c *URISchemeResponse) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *URISchemeResponse) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

// SetPropertyStreamLength sets the "stream-length" property.
// The input stream length in bytes, `-1` for unknown length.
func (x *URISchemeResponse) SetPropertyStreamLength(value int64) {
	var v gobject.Value
	v.Init(gobject.TypeInt64Val)
	v.SetInt64(value)
	x.SetProperty("stream-length", &v)
}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xURISchemeResponseGLibType, libs, "webkit_uri_scheme_response_get_type")

	core.PuregoSafeRegister(&xNewURISchemeResponse, libs, "webkit_uri_scheme_response_new")

	core.PuregoSafeRegister(&xURISchemeResponseSetContentType, libs, "webkit_uri_scheme_response_set_content_type")
	core.PuregoSafeRegister(&xURISchemeResponseSetHttpHeaders, libs, "webkit_uri_scheme_response_set_http_headers")
	core.PuregoSafeRegister(&xURISchemeResponseSetStatus, libs, "webkit_uri_scheme_response_set_status")

}
