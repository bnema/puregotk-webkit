// Code generated by puregotk-webkit extras; DO NOT EDIT.
package webkit

import (
	"fmt"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
)

// ConnectScriptMessageReceivedWithDetail connects to the script-message-received signal
// for a specific handler name. The signal detail is appended as "script-message-received::<handlerName>".
func (x *UserContentManager) ConnectScriptMessageReceivedWithDetail(handlerName string, cb *func(UserContentManager, uintptr)) uint32 {
	cbPtr := uintptr(unsafe.Pointer(cb))
	signalName := fmt.Sprintf("script-message-received::%s", handlerName)

	if cbRefPtr, ok := glib.GetCallback(cbPtr); ok {
		return gobject.SignalConnect(x.GoPointer(), signalName, cbRefPtr)
	}

	fcb := func(clsPtr uintptr, ValueVarp uintptr) {
		fa := UserContentManager{}
		fa.Ptr = clsPtr
		cbFn := *cb
		cbFn(fa, ValueVarp)
	}
	cbRefPtr := purego.NewCallback(fcb)
	glib.SaveCallback(cbPtr, cbRefPtr)
	return gobject.SignalConnect(x.GoPointer(), signalName, cbRefPtr)
}
