// Package webkit was automatically generated by github.com/jwijenbergh/puregotk DO NOT EDIT
package webkit

import (
	"structs"
	"unsafe"

	"github.com/jwijenbergh/purego"
	"github.com/jwijenbergh/puregotk/pkg/core"
	"github.com/jwijenbergh/puregotk/v4/glib"
	"github.com/jwijenbergh/puregotk/v4/gobject"
	"github.com/jwijenbergh/puregotk/v4/gobject/types"
)

type NotificationClass struct {
	_ structs.HostLayout

	ParentClass gobject.ObjectClass
}

func (x *NotificationClass) GoPointer() uintptr {
	return uintptr(unsafe.Pointer(x))
}

// Holds information about a notification that should be shown to the user.
type Notification struct {
	gobject.Object
}

var xNotificationGLibType func() types.GType

func NotificationGLibType() types.GType {
	return xNotificationGLibType()
}

func NotificationNewFromInternalPtr(ptr uintptr) *Notification {
	cls := &Notification{}
	cls.Ptr = ptr
	return cls
}

var xNotificationClicked func(uintptr)

// Tells WebKit the notification has been clicked.
//
// This will emit the
// #WebKitNotification::clicked signal.
func (x *Notification) Clicked() {

	xNotificationClicked(x.GoPointer())

}

var xNotificationClose func(uintptr)

// Closes the notification.
func (x *Notification) Close() {

	xNotificationClose(x.GoPointer())

}

var xNotificationGetBody func(uintptr) string

// Obtains the body for the notification.
func (x *Notification) GetBody() string {

	cret := xNotificationGetBody(x.GoPointer())

	return cret
}

var xNotificationGetId func(uintptr) uint64

// Obtains the unique id for the notification.
func (x *Notification) GetId() uint64 {

	cret := xNotificationGetId(x.GoPointer())

	return cret
}

var xNotificationGetTag func(uintptr) string

// Obtains the tag identifier for the notification.
func (x *Notification) GetTag() string {

	cret := xNotificationGetTag(x.GoPointer())

	return cret
}

var xNotificationGetTitle func(uintptr) string

// Obtains the title for the notification.
func (x *Notification) GetTitle() string {

	cret := xNotificationGetTitle(x.GoPointer())

	return cret
}

func (c *Notification) GoPointer() uintptr {
	if c == nil {
		return 0
	}
	return c.Ptr
}

func (c *Notification) SetGoPointer(ptr uintptr) {
	c.Ptr = ptr
}

// GetPropertyBody gets the "body" property.
// The body for the notification.
func (x *Notification) GetPropertyBody() string {
	var v gobject.Value
	x.GetProperty("body", &v)
	return v.GetString()
}

// GetPropertyId gets the "id" property.
// The unique id for the notification.
func (x *Notification) GetPropertyId() uint64 {
	var v gobject.Value
	x.GetProperty("id", &v)
	return v.GetUint64()
}

// GetPropertyTag gets the "tag" property.
// The tag identifier for the notification.
func (x *Notification) GetPropertyTag() string {
	var v gobject.Value
	x.GetProperty("tag", &v)
	return v.GetString()
}

// GetPropertyTitle gets the "title" property.
// The title for the notification.
func (x *Notification) GetPropertyTitle() string {
	var v gobject.Value
	x.GetProperty("title", &v)
	return v.GetString()
}

// Emitted when a notification has been clicked. See webkit_notification_clicked().
func (x *Notification) ConnectClicked(cb *func(Notification)) uint {
	cbPtr := uintptr(unsafe.Pointer(cb))
	if cbRefPtr, ok := glib.GetCallback(cbPtr); ok {
		handlerID := gobject.SignalConnect(x.GoPointer(), "clicked", cbRefPtr)
		glib.SaveHandlerMapping(handlerID, cbPtr)
		return handlerID
	}

	fcb := func(clsPtr uintptr) {
		fa := Notification{}
		fa.Ptr = clsPtr
		cbFn := *cb

		cbFn(fa)

	}
	cbRefPtr := purego.NewCallback(fcb)
	glib.SaveCallbackWithClosure(cbPtr, cbRefPtr, cb)
	handlerID := gobject.SignalConnect(x.GoPointer(), "clicked", cbRefPtr)
	glib.SaveHandlerMapping(handlerID, cbPtr)
	return handlerID
}

// Emitted when a notification has been withdrawn.
//
// The default handler will close the notification using libnotify, if built with
// support for it.
func (x *Notification) ConnectClosed(cb *func(Notification)) uint {
	cbPtr := uintptr(unsafe.Pointer(cb))
	if cbRefPtr, ok := glib.GetCallback(cbPtr); ok {
		handlerID := gobject.SignalConnect(x.GoPointer(), "closed", cbRefPtr)
		glib.SaveHandlerMapping(handlerID, cbPtr)
		return handlerID
	}

	fcb := func(clsPtr uintptr) {
		fa := Notification{}
		fa.Ptr = clsPtr
		cbFn := *cb

		cbFn(fa)

	}
	cbRefPtr := purego.NewCallback(fcb)
	glib.SaveCallbackWithClosure(cbPtr, cbRefPtr, cb)
	handlerID := gobject.SignalConnect(x.GoPointer(), "closed", cbRefPtr)
	glib.SaveHandlerMapping(handlerID, cbPtr)
	return handlerID
}

func init() {
	core.SetPackageName("WEBKIT", "webkitgtk-6.0")
	core.SetSharedLibraries("WEBKIT", []string{"libwebkitgtk-6.0.so.4", "libjavascriptcoregtk-6.0.so.1"})
	var libs []uintptr
	for _, libPath := range core.GetPaths("WEBKIT") {
		lib, err := purego.Dlopen(libPath, purego.RTLD_NOW|purego.RTLD_GLOBAL)
		if err != nil {
			panic(err)
		}
		libs = append(libs, lib)
	}

	core.PuregoSafeRegister(&xNotificationGLibType, libs, "webkit_notification_get_type")

	core.PuregoSafeRegister(&xNotificationClicked, libs, "webkit_notification_clicked")
	core.PuregoSafeRegister(&xNotificationClose, libs, "webkit_notification_close")
	core.PuregoSafeRegister(&xNotificationGetBody, libs, "webkit_notification_get_body")
	core.PuregoSafeRegister(&xNotificationGetId, libs, "webkit_notification_get_id")
	core.PuregoSafeRegister(&xNotificationGetTag, libs, "webkit_notification_get_tag")
	core.PuregoSafeRegister(&xNotificationGetTitle, libs, "webkit_notification_get_title")

}
